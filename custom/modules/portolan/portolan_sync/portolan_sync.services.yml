services:
  portolan.marc_parser:
    class: Drupal\portolan_sync\Synchronization\PortolanMarcParser

  portolan.marc_file_importer:
    class: Drupal\portolan_sync\Synchronization\MarcFileImporter
    arguments:
      - '@portolan.marc_parser'

  portolan.storage:
    class: Drupal\Core\Entity\ContentEntityStorageInterface
    factory: ['@entity_type.manager', 'getStorage']
    arguments:
      - portolan_record
    public: false

  logger.channel.portolan:
    class: Drupal\Core\Logger\LoggerChannelInterface
    parent: 'logger.channel_base'
    arguments:
      - portolan
    public: false

  portolan.oclc_synchronizer:
    class: Drupal\portolan_sync\Synchronization\OclcSynchronizer
    arguments:
      - '@portolan.marc_file_importer'
      - '@portolan.storage'
      - '@logger.channel.portolan'
